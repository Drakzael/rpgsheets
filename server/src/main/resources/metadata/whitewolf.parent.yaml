---
code: "whitewolf"
name: "WhiteWolf parent"
technical: "true"
icons: 
  dot.empty: 
    viewBox: "0 0 100 105"
    path: "M 49.323604,0.00465088 A 50,50 0 0 0 0.00206706,50.450667 50,50 0 0 0 50.225358,99.999581 50,50 0 0 0 100.0001,50.000049 L 99.9918,49.098295 A 50,50 0 0 0 49.323604,0.00465088 Z M 49.485868,12.003402 a 38,38 0 0 1 38.507727,37.311417 l 0.0062,0.68523 A 38,38 0 0 1 50.171098,87.999797 38,38 0 0 1 12.001335,50.342664 38,38 0 0 1 49.485868,12.003402 Z"
  dot.full: 
    viewBox: "0 0 100 105"
    path: "M 49.323604 0.0046508789 A 50 50 0 0 0 0.0020670573 50.450667 A 50 50 0 0 0 50.225358 99.999581 A 50 50 0 0 0 100.0001 50.000049 L 99.991829 49.098295 A 50 50 0 0 0 49.323604 0.0046508789 z "
  dot.plus: 
    viewBox: "0 0 100 105"
    path: "M 49.323604 0.0046508789 A 50 50 0 0 0 0.0020670573 50.450667 A 50 50 0 0 0 50.225358 99.999581 A 50 50 0 0 0 100.0001 50.000049 L 99.991829 49.098295 A 50 50 0 0 0 49.323604 0.0046508789 z M 49.485868 12.003402 A 38 38 0 0 1 87.993595 49.314819 L 87.999797 50.000049 A 38 38 0 0 1 50.171098 87.999797 A 38 38 0 0 1 12.001335 50.342664 A 38 38 0 0 1 49.485868 12.003402 z M 50.000049 19.999813 A 30 30 0 0 0 19.999813 50.000049 A 30 30 0 0 0 50.000049 79.999768 A 30 30 0 0 0 79.999768 50.000049 A 30 30 0 0 0 50.000049 19.999813 z "
  dot.minus: 
    viewBox: "0 0 100 105"
    path: "M 49.323604 0.0046508789 A 50 50 0 0 0 0.0020670573 50.450667 A 50 50 0 0 0 50.225358 99.999581 A 50 50 0 0 0 100.0001 50.000049 L 99.991829 49.098295 A 50 50 0 0 0 49.323604 0.0046508789 z M 49.485868 12.003402 A 38 38 0 0 1 87.993595 49.314819 L 87.999797 50.000049 A 38 38 0 0 1 50.171098 87.999797 A 38 38 0 0 1 12.001335 50.342664 A 38 38 0 0 1 49.485868 12.003402 z M 50.000049 40.000142 A 10 10 0 0 0 40.000142 50.000049 A 10 10 0 0 0 50.000049 59.999955 A 10 10 0 0 0 59.999955 50.000049 A 10 10 0 0 0 50.000049 40.000142 z "
  square.empty: 
    viewBox: "0 0 100 105"
    path: "M 5.0002116,5.0002116 V 94.999886 H 94.999886 V 5.0002116 Z M 15.000118,15.000118 H 84.99998 V 84.99998 H 15.000118 Z"
  square.crossed: 
    viewBox: "0 0 100 105"
    path: "M 5.0002116 5.0002116 L 5.0002116 94.999886 L 94.999886 94.999886 L 94.999886 5.0002116 L 5.0002116 5.0002116 z M 25.08064 15.000118 L 74.375305 15.000118 L 49.784558 39.644092 L 25.08064 15.000118 z M 15.000118 25.226884 L 39.642025 49.808846 L 15.000118 74.503979 L 15.000118 25.226884 z M 84.99998 25.495085 L 84.99998 74.773214 L 60.357556 50.190735 L 84.99998 25.495085 z M 50.215023 60.355489 L 74.919458 84.99998 L 25.623759 84.99998 L 50.215023 60.355489 z "
  square.full: 
    viewBox: "0 0 100 105"
    path: "M 5,5 H 95 V 95 H 5 Z"
  damage.none: 
    viewBox: "0 0 512 512"
    path: "M 104.99979 25.000024 C 93.919804 25.000024 84.99998 33.919848 84.99998 44.999837 L 84.99998 455.00013 C 84.99998 466.08012 93.919804 474.99995 104.99979 474.99995 L 384.99976 474.99995 C 396.07974 474.99995 405.00009 466.08012 405.00009 455.00013 L 405.00009 44.999837 C 405.00009 33.919848 396.07974 25.000024 384.99976 25.000024 L 104.99979 25.000024 z M 137.85722 65.000167 L 352.14285 65.000167 C 359.2657 65.000167 364.99994 71.037548 364.99994 78.536808 L 364.99994 421.46316 C 364.99994 428.96242 359.2657 434.9998 352.14285 434.9998 L 137.85722 434.9998 C 130.73437 434.9998 125.00012 428.96242 125.00012 421.46316 L 125.00012 78.536808 C 125.00012 71.037548 130.73437 65.000167 137.85722 65.000167 z"
  damage.blunt: 
    viewBox: "0 0 512 512"
    path: "M 104.99979 25.000024 C 93.919818 25.000024 84.99998 33.919859 84.99998 44.999837 L 84.99998 455.00013 C 84.99998 466.08011 93.919818 474.99995 104.99979 474.99995 L 384.99976 474.99995 C 396.07972 474.99995 405.00009 466.08011 405.00009 455.00013 L 405.00009 44.999837 C 405.00009 33.919859 396.07972 25.000024 384.99976 25.000024 L 104.99979 25.000024 z M 137.85722 65.000167 L 333.55793 65.000167 L 125.00012 391.46448 L 125.00012 78.536808 C 125.00012 71.037556 130.73438 65.000167 137.85722 65.000167 z M 364.99994 108.65693 L 364.99994 421.46316 C 364.99994 428.96242 359.26569 434.9998 352.14285 434.9998 L 156.52016 434.9998 L 364.99994 108.65693 z"
  damage.lethal: 
    viewBox: "0 0 512 512"
    path: "M 104.99979 25.000024 C 93.919832 25.000024 84.99998 33.91987 84.99998 44.999837 L 84.99998 455.00013 C 84.99998 466.0801 93.919832 474.99995 104.99979 474.99995 L 384.99976 474.99995 C 396.0797 474.99995 405.00009 466.0801 405.00009 455.00013 L 405.00009 44.999837 C 405.00009 33.91987 396.0797 25.000024 384.99976 25.000024 L 104.99979 25.000024 z M 157.32218 65.000167 L 333.55793 65.000167 L 245.60413 202.67755 L 157.32218 65.000167 z M 125.00012 107.22343 L 215.96149 249.07885 L 125.00012 391.46448 L 125.00012 107.22343 z M 364.99994 108.65693 L 364.99994 388.87756 L 275.32531 249.02873 L 364.99994 108.65693 z M 245.68268 295.43003 L 335.17799 434.9998 L 156.52016 434.9998 L 245.68268 295.43003 z"
  damage.aggravated: 
    viewBox: "0 0 512 512"
    path: "M 104.99979 25.000024 C 93.919846 25.000024 84.99998 33.919881 84.99998 44.999837 L 84.99998 455.00013 C 84.99998 466.08009 93.919846 474.99995 104.99979 474.99995 L 384.99976 474.99995 C 396.07968 474.99995 405.00009 466.08009 405.00009 455.00013 L 405.00009 44.999837 C 405.00009 33.919881 396.07968 25.000024 384.99976 25.000024 L 104.99979 25.000024 z M 157.32218 65.000167 L 220.00001 65.000167 L 220.00001 162.74769 L 157.32218 65.000167 z M 270.00006 65.000167 L 333.55793 65.000167 L 270.00006 164.4897 L 270.00006 65.000167 z M 125.00012 107.22343 L 197.3156 220.00001 L 125.00012 220.00001 L 125.00012 107.22343 z M 364.99994 108.65693 L 364.99994 220.00001 L 293.86992 220.00001 L 364.99994 108.65693 z M 125.00012 270.00006 L 202.59642 270.00006 L 125.00012 391.46448 L 125.00012 270.00006 z M 288.77255 270.00006 L 364.99994 270.00006 L 364.99994 388.87756 L 288.77255 270.00006 z M 270.00006 333.3533 L 335.17799 434.9998 L 270.00006 434.9998 L 270.00006 333.3533 z M 220.00001 335.63223 L 220.00001 434.9998 L 156.52016 434.9998 L 220.00001 335.63223 z"
editors: 
  attribute: 
    type: "scale"
    min: 1
    max: 5
    icons: 
      empty: "dot.empty"
      full: "dot.full"
      plus: "dot.plus"
      minus: "dot.minus"
  ability: 
    type: "scale"
    max: 5
    icons: 
      empty: "dot.empty"
      full: "dot.full"
      plus: "dot.plus"
      minus: "dot.minus"
  background: 
    type: "scale"
    max: 5
    icons: 
      empty: "dot.empty"
      full: "dot.full"
      plus: "dot.plus"
      minus: "dot.minus"
  willpower: 
    type: "doubleScale"
    max: 10
    overlap: "false"
    freeEditSquares: "true"
    icons: 
      firstEmpty: "dot.empty"
      firstFull: "dot.full"
      secondEmpty: "square.empty"
      secondFull: "square.crossed"
  health: 
    type: "health"
    values: 
    - name: "Contusion"
    - name: "Blessure légère"
      tip: "-1"
    - name: "Blessure moyenne"
      tip: "-1"
    - name: "Blessure grave"
      tip: "-2"
    - name: "Handicap"
      tip: "-2"
    - name: "Infirmité"
      tip: "-5"
    - name: "Invalidité"
      tip: "X"
    types: 
      defaultIcon: "damage.none"
      values: 
      - name: "Contondants"
        icon: "damage.blunt"
        overlap: "true"
      - name: "Létaux"
        icon: "damage.lethal"
      - name: "Aggravés"
        icon: "damage.aggravated"
dice: 
  throws: 
  - code: "default"
    name: "Par défaut"
    dice: 10
    statClick: "pool"
    input: 
      diff: 
        name: "Difficulté"
        type: "select"
        valueType: "number"
        defaultValue: 6
        min: 2
        max: 10
      res10: 
        name: "Effet d'un 10"
        type: "select"
        valueType: "string"
        values: 
        - name: "Succès"
          value: "success"
        - name: "Succès x2"
          value: "double"
        defaultValue: "double"
      res1: 
        name: "Effet d'un 1"
        type: "select"
        valueType: "string"
        values: 
        - name: "Echec"
          value: "fail"
        - name: "Echec critique (Score)"
          value: "-1"
        - name: "Echec critique (Dés)"
          value: "-1d"
        defaultValue: "-1d"
    resultType: "number"
    resultFunction: >-
      ${
        (dices, { diff, res1, res10 }) => {
          var fails = dices.filter(dice => dice == 1).length;
          var success = dices.filter(dice => dice >= diff);
          var successDiceCount = success.length;
          success.sort((r1, r2) => r2 - r1);
          if (res1 == '-1d') {
            if (fails >= successDiceCount) {
              return successDiceCount > 0 ? 0 : -fails;
            }
            success.splice(0, fails);
            fails = 0;
          }
          var successCount = success.map(dice => {
            if (res10 == 'double') {
              return dice == 10 ? 2 : 1;
            }
            return 1;
          }).reduce((acc, value) => acc + value, 0);
          if (res1 == '-1') {
            if (fails >= successCount) {
              successCount = successCount > 0 ? 0 : -fails;
            } else {
              successCount = successCount - fails;
            }
          }
          return successCount;
        }
      }
    resultColor: >-
      ${
        (dice, { diff, res1, res10 }) => {
          if (dice == 1 && res1 != 'fail') {
            return { primary: '#990000', secondary: '#ffffff', glow: '#ff3333' };
          }
          if (dice == 10 && res10 != 'success') {
            return { primary: '#000099', secondary: '#ffffff', glow: '#0066ff' };
          }
          if (dice >= diff) {
            return { primary: '#006600', secondary: '#ffffff' };
          }
          return { primary: '#000000', secondary: '#ffffff' };
        }
      }
